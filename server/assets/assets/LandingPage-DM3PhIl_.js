import{u as b,a as w}from"./imageStore-DE_VAD7A.js";import{f as p,c as d,o,a as u,g as k,_,r as C,h as y,i as B,n as $,j as H,s as L,k as T,l as M,m as N,F as x,p as P,q as z,x as h}from"./index-lxKFhPlO.js";const E={class:"uploader-container"},F=["accept"],U=p({__name:"ImageUploader",setup(r){const s=b(),e=async a=>{const n=a.target,l=s.filterValidImages(n.files??void 0);await s.uploadImages(l)};return(a,n)=>(o(),d("div",E,[u("input",{id:"image-uploader",type:"file",multiple:"",hidden:"",accept:k(w).join(","),onChange:e},null,40,F),n[0]||(n[0]=u("label",{for:"image-uploader"},[u("button",null,"Select Photos")],-1))]))}}),q=_(U,[["__scopeId","data-v-072c3371"]]),A=p({__name:"HorizontalScrollContainer",props:{elementHeight:{type:Number,required:!0},activeScale:{type:Number,default:1}},setup(r){const s=r,e=C();let a=!1;const n=()=>{if(!e.value)return;const t=e.value.getBoundingClientRect(),c=t.left+t.width/2,m=Array.from(e.value.children),{ele:S}=m.reduce((i,g)=>{const f=g.getBoundingClientRect(),I=f.left+f.width/2,v=Math.abs(c-I);return v<i.dist?{ele:g,dist:v}:i},{ele:null,dist:1/0});m.forEach(i=>i.classList.toggle("is-active",i===S))},l=()=>{a||(a=!0,requestAnimationFrame(()=>{n(),a=!1}))};return y(()=>{var t;return(t=e.value)==null?void 0:t.addEventListener("scroll",l,{passive:!0})}),B(()=>{var t;return(t=e.value)==null?void 0:t.removeEventListener("scroll",l)}),(t,c)=>(o(),d("div",{ref_key:"host",ref:e,class:"scrollbar",style:$({"--active-scale":s.activeScale,"--max-height":`${(s.activeScale+.25)*s.elementHeight}px`})},[H(t.$slots,"default",{},void 0)],4))}}),D=_(A,[["__scopeId","data-v-5fd3e84e"]]),R=["src","alt"],V=p({__name:"ThumbnailPreviewer",props:{maxThumbnails:{type:Number,default:100}},setup(r){const s=r,e=b(),{images:a}=L(e),n=T(()=>a.value.slice(0,s.maxThumbnails));return y(async()=>await e.updateImageMetaData()),(l,t)=>(o(),M(D,{"active-scale":2,"element-height":100},{default:N(()=>[(o(!0),d(x,null,P(n.value,(c,m)=>(o(),d("img",{key:m,class:"thumb",src:c.thumbnail_url,alt:c.name,loading:"lazy"},null,8,R))),128))]),_:1}))}}),j=_(V,[["__scopeId","data-v-d159267e"]]),G={class:"wrapper"},J=p({__name:"LandingPage",setup(r){return(s,e)=>{const a=z("HamburgerDrawer");return o(),d(x,null,[h(a),u("main",G,[e[0]||(e[0]=u("h1",null,"Share your wedding photos",-1)),h(q),h(j,{"max-thumbnails":50})])],64)}}}),Q=_(J,[["__scopeId","data-v-21ccd9fa"]]);export{Q as default};
